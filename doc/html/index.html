<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>REVERSE ENGINEERING WATERS CHALLENGE 2019: Reverse Engineering Waters Challenge 2019</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">REVERSE ENGINEERING WATERS CHALLENGE 2019
   </div>
   <div id="projectbrief">IMPLEMENTATION OF WATERS CHALLENGE 2019 ON NVIDIA JETSON TX2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Reverse Engineering Waters Challenge 2019 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This project is developed to reverse engineer the Waters Challenge 2019 model and implement it on Jetson TX2 platform using the capability of GPU accelerator. The processing power offered by GPUs and their capability to execute parallel workloads is exploited to execute and accelerate applications related to advanced driver assistance systems.</p>
<p>The challenge consists in analytically master the complex HW/SW system (that will be available as Amalthea model) to answer the following questions:</p>
<p>Response Time Computation:</p>
<p>a) Given an application consisting of a set of dependent tasks and a given mapping, calculate its end-to-end response time.</p>
<p>b) The response time should account for the time for the copy engine to transfer data between the CPU and the GPU.</p>
<p>c) The response time should account for the time for the data transfers between the CPU and the shared main memory considering a read/execute/write semantic.</p>
<p>d) Optionally the off-loading mechanism (synchronous/asynchronous) can be changed to further optimize the end-to-end latencies.</p>
<p>The below sections consists of the steps for headless installation the RT-Linux on a Jetson TX2 platform.</p>
<h1><a class="anchor" id="install_sec"></a>
Installation Setup</h1>
<p>The application is implemented on NVIDIA Jetson TX2 board. At a high-level abstraction, embedded heterogeneous SoCs (System of Chip) featuring GP-GPU accelerators are characterized by the following hardware components:</p>
<p>1) CPU</p>
<p>2) Accelerator</p>
<p>3) Memory hierarchy</p>
<p>However, the code can be compiled and executed on any NVIDIA supported hardware device.</p>
<p>The application uses three ARM A57 cores for running the applications parallelly. Each task on the CPU core follows RMS(Rate Monotonic Scheduling) approach. This scheduling approach is core specific. The kernel must support real time time scheduling in order to execute this application.</p>
<p>The installation setup process mentioned below is on x86 Host machine running Ubuntu 18.04 64 bit Linux version.</p>
<h2><a class="anchor" id="headless_install"></a>
Jetson TX2 Headless installation</h2>
<p>Connect your Jetson TX2 device to your host machine via the USB cable and connect a wired ethernet to the device. Power on the device.</p>
<p>Download the NVIDIA SDK Manager from the NVIDIA website on your host machine.</p>
<ul>
<li>Start the sdkmanager and follow the steps to install the packages for the Jetson TX2 device.</li>
<li>Choose the latest Jetson OS image available.</li>
<li>The SDK manager will prompt to flash the OS on the Jetson TX2 target device.</li>
<li>Switch the Jetson TX2 device to recovery mode by pressing and holding the RECOVERY button and then press and release the RESET button.</li>
<li>Release the RECOVERY button after 2 seconds.</li>
<li>Wait for the SDK manager to flash the OS on the Jetson TX2 target device.</li>
<li>Install screen utility on the host Linux machine.</li>
<li>The USB port for the Jetson TX2 device will appear in the /dev folder of the Host machine with value as ttyACM* device.</li>
<li>Start the screen utility at a baud rate of 115200. screen /dev/ttyACM0 115200.</li>
<li>The screen prompt will enable for the target device which can be used to configure the device. Follow the steps as prompted.</li>
<li>Execute ifconfig command to get the IP address. Once the IP address is known, ssh can be used to connect to the Jetson TX2 board.</li>
</ul>
<h2><a class="anchor" id="rt-linux"></a>
Installing Real Time Kernel on NVIDIA Jetson TX2 board.</h2>
<p>Follow below steps to install the SMP PREEMPT RT on NVIDIA Jetson TX2 board. Login to the NVIDIA Jetson TX2 device through ssh. Create a folder and open a terminal in that folder.</p>
<ul>
<li>git clone <a href="https://github.com/jetsonhacks/buildJetsonTX2Kernel.git">https://github.com/jetsonhacks/buildJetsonTX2Kernel.git</a></li>
<li>checked out the tag vL4T32.1.0 - Same Tegra version as on the board</li>
<li>Executed the script sudo ./getKernelSources.sh followed by sudo ./makeKernel.sh - Kernel will build successfully.</li>
<li>cd /usr/src/kernel/kernel-4.9/scripts/rt-patches.sh. Executed the patch as : sudo ./scripts/rt-patches.sh apply-patches. Patch should apply successfully.</li>
<li>Go to the buildJetsonTX2Kernel folder.</li>
<li>sudo ./makeKernel.sh</li>
<li>sudo ./copyImage.sh - Everything compiled successfully and the image is also copied in the /boot folder. -sudo reboot</li>
<li>Login to the Jetson TX2 board and execute the command uname -a. The printed string must contain SMP PREEMPT RT in it.</li>
</ul>
<h1><a class="anchor" id="Dev_env"></a>
Development Environment</h1>
<p>NVIDIA Eclipse Nsight edition is used for the development and debug of the application.</p>
<h2><a class="anchor" id="exec"></a>
Running the Application</h2>
<ul>
<li>git clone <a href="https://github.com/anand6105/MBSE.git">https://github.com/anand6105/MBSE.git</a></li>
<li>cd MBSE</li>
<li>make all</li>
<li>jetsonsim executable will generated.</li>
<li>Run the jetsonsim executable with sudo privileges.</li>
</ul>
<p>The application prints the time taken by each task in execution on the NVIDIA GPU device. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
